{% load static %}
<!DOCTYPE html> 
<html lang="en">
	
<!-- doccure/register.html  30 Nov 2019 04:12:20 GMT -->
<head>
	<style>
		.error-message {
			color: red;
			font-size: 10px;
		}

		.valid-input {
			border: 2px solid lightblue !important;
		}
		
		.invalid-input {
			border: 2px solid red !important;
		}
		
	</style>
		<meta charset="utf-8">
		<title>MediMingle</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
		
		<!-- Favicons -->
		<link href="{% static '/assets/img/favicon.png'%}" rel="icon">
		
		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="{% static '/assets/css/bootstrap.min.css'%}">
		
		<!-- Fontawesome CSS -->
		<link rel="stylesheet" href="{% static '/assets/plugins/fontawesome/css/fontawesome.min.css'%}">
		<link rel="stylesheet" href="{% static '/assets/plugins/fontawesome/css/all.min.css'%}">
		
		<!-- Main CSS -->
		<link rel="stylesheet" href="{% static '/assets/css/style.css'%}">
		
	
</head>
	<body class="account-page">

		<!-- Main Wrapper -->
		<div class="main-wrapper">
		
			<!-- Header -->
			<header class="header">
				<nav class="navbar navbar-expand-lg header-nav">
					<div class="navbar-header">
						<a id="mobile_btn" href="javascript:void(0);">
							<span class="bar-icon">
								<span></span>
								<span></span>
								<span></span>
							</span>
						</a>
						<a href="{% url 'home' %}" class="navbar-brand logo">
							<img src="{% static '/assets/img/logo.png'%}" class="img-fluid" alt="Logo">
						</a>
					</div>
					<div class="main-menu-wrapper">
						<div class="menu-header">
							<a href="{% url 'home' %}" class="menu-logo">
								<img src="{% static '/assets/img/logo.png'%}" class="img-fluid" alt="Logo">
							</a>

							<a id="menu_close" class="menu-close" href="javascript:void(0);">
								<i class="fas fa-times"></i>
							</a>
						</div>
						<ul class="main-nav">
							<li><a href="{% url 'home' %}" style="color: white;" class="menu-logo">Home</a></li>

						
							
							
						</ul>
					</div>
					<ul class="nav header-navbar-rht">
						<li class="nav-item contact-item">
							<div class="header-contact-img">
								<i style="color: white;" class="far fa-hospital"></i>							
							</div>
							<div class="header-contact-detail">
								<p style="color: white;" class="contact-header">Contact</p>
								<p style="color: white;" class="contact-info-header">7306741729</p>
							</div>
						</li>
						<li class="nav-item">
							<a class="nav-link header-login" href="{% url 'signin' %}">login</a>
						</li>
					</ul>
				</nav>
			</header>
			<!-- /Header -->
			
			<!-- Page Content -->
			<div class="content">
				<div class="container-fluid">
					
					<div class="row">
						<div class="col-md-8 offset-md-2">
								
							<!-- Register Content -->
							<div class="account-content">
								<div class="row align-items-center justify-content-center">
									<div class="col-md-7 col-lg-6 login-left">
										<img src="{% static '/assets/img/pic.jpg'%}" class="img-fluid" alt="Doccure Register">	
									</div>
									<div class="col-md-12 col-lg-6 login-right">
										<div class="login-header">
											<h3>Registeration</a></h3>
										</div>
										
										<!-- Register Form -->

										
									<form method="POST" id="registration-form">
											{% csrf_token %}
											<div class="form-group form-focus">
												<input type="text" class="form-control floating" name="username" id="username">
												<label class="focus-label">Username</label>
												<span class="error-message" id="username-error"></span>
											</div>
											<div class="form-group form-focus">
												<input type="text" class="form-control floating" name="first_name" id="first_name">
												<label class="focus-label">First Name</label>
												<span class="error-message" id="first_name-error"></span>
											</div>
											<div class="form-group form-focus">
												<input type="text" class="form-control floating" name="last_name" id="last_name">
												<label class="focus-label">Last Name</label>
												<span class="error-message" id="last_name-error"></span>
											</div>
											<div class="form-group form-focus">
												<input type="tel" class="form-control floating" name="phone_number" id="phone_number">
												<label class="focus-label">Phone Number</label>
												<span class="error-message" id="phone_number-error"></span>
											</div>
											
											<div class="form-group form-focus">
												<input type="text" class="form-control floating" name="email" id="email">
												<label class="focus-label">Email</label>
												<span class="error-message" id="email-error"></span>
											</div>
											<div class="form-group form-focus">
												<input type="password" class="form-control floating" name="password" id="password">
												<label class="focus-label">Create Password</label>
												<span class="error-message" id="password-error"></span>
											</div>
											<div class="form-group form-focus">
												<label class="focus-label">User Type</label>
												<select class="form-control" name="user_type" id="user_type">
													<option value="patient">Patient</option>
													<option value="doctor">Doctor</option>
												</select>
											</div>
											<button class="btn btn-primary btn-block btn-lg login-btn" type="submit">Signup</button>
											<span class="or-line"></span>
											<span class="or-line"></span>
											
												<div class="col-14">
													<a href="{% url 'social:begin' 'google-oauth2' %}" class="btn btn-info btn-block"><i class="fab fa-google mr-1"></i> Sign in with Google</a>
												</div>
											
											
										</form>

										<script>
											const form = document.getElementById('registration-form');
											const usernameInput = document.getElementById('username');
											const firstNameInput = document.getElementById('first_name');
											const lastNameInput = document.getElementById('last_name');
											const phoneNumberInput=document.getElementById('phone_number')
											const emailInput = document.getElementById('email');
											const passwordInput = document.getElementById('password');
											const usernameError = document.getElementById('username-error');
											const firstNameError = document.getElementById('first_name-error');
											const lastNameError = document.getElementById('last_name-error');
											const phoneNumberError=document.getElementById('phone_number-error');
											const emailError = document.getElementById('email-error');
											const passwordError = document.getElementById('password-error');

											// Function to validate the username field
											function validateUsername() {
												const username = usernameInput.value;
											
												// Check if the username contains spaces
												if (/\s/.test(username)) {
													usernameError.textContent = 'Invalid username. Username cannot contain spaces.';
													usernameInput.classList.remove('valid-input');
												} else if (/^\d/.test(username)) {
													usernameError.textContent = 'Username cannot start with numbers.';
													usernameInput.classList.remove('valid-input');
												} else if (username.length < 5) {
													usernameError.textContent = 'Username should contain 5 characters.';
													usernameInput.classList.remove('valid-input');
												} else {
													// Check if the username contains invalid characters
													const regex = /^[a-zA-Z][a-zA-Z0-9_]{5,29}$/;
													if (!regex.test(username)) {
														usernameError.textContent = 'Invalid username. Must contain only letters, numbers, and underscores and be between 8 and 30 characters.';
														usernameInput.classList.remove('valid-input');
													} else {
														usernameError.textContent = '';
														usernameInput.classList.add('valid-input');
													}
												}
											}
											

											// Function to validate the first name field
											function validateFirstName() {
												const firstName = firstNameInput.value;
												const regex = /^[a-zA-Z]{1,30}$/;
												if (!regex.test(firstName)) {
													firstNameError.textContent = 'Invalid first name. Must contain only letters and be up to 30 characters.';
													firstNameInput.classList.remove('valid-input');
												} else {
													firstNameError.textContent = '';
													firstNameInput.classList.add('valid-input');
												}
											}

											// Function to validate the last name field
											function validateLastName() {
												const lastName = lastNameInput.value;
												const regex = /^[a-zA-Z]{1,30}$/;
												if (!regex.test(lastName)) {
													lastNameError.textContent = 'Invalid last name. Must contain only letters and be up to 30 characters.';
													lastNameInput.classList.remove('valid-input');
												} else {
													lastNameError.textContent = '';
													lastNameInput.classList.add('valid-input');
												}
											}
                                             

											function validatePhoneNumber() {
												const phoneNumber = phoneNumberInput.value;
												const phoneNumberRegex = /^[6-9]\d{9}$/; // /^[7-9]\d{9}$/;Phone number start with '>=6' and be 10 digits in total (including the starting '6').

												if (!phoneNumberRegex.test(phoneNumber)) {
													if (/[^0-9]/.test(phoneNumber)) {
														phoneNumberError.textContent = 'Phone number should be numbers.';
													} else {
														phoneNumberError.textContent = 'Invalid phone number. Please start with "6" and enter a 10-digit number.';
													}
													phoneNumberInput.classList.remove('valid-input');
												} else {
													phoneNumberError.textContent = '';
													phoneNumberInput.classList.add('valid-input');
												}
											}

											// Function to validate the email field
											function validateEmail() {
												const email = emailInput.value;
												const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
												const invalidEmailFormatRegex = /[.]{2,}|[^a-zA-Z0-9.@_-]/;
											
												if (email.trim() === '') {
													emailError.textContent = 'Email is required.';
													emailInput.classList.remove('valid-input');
												} else if (!emailRegex.test(email) || invalidEmailFormatRegex.test(email)) {
													emailError.textContent = 'Invalid email format.';
													emailInput.classList.remove('valid-input');
												} else {
													emailError.textContent = '';
													emailInput.classList.add('valid-input');
												}
											}
											
											
											// Function to validate the password field
											function validatePassword() {
												const password = passwordInput.value;
												const noLeadingSpace = !(/^\s/.test(password)); // Check for leading space
												const lengthCheck = password.length >= 8;
												const letterCheck = /[a-zA-Z]/.test(password);
												const digitCheck = /\d/.test(password);
												const specialCharCheck = /[@$!%*?&]/.test(password);
												
											    if (!noLeadingSpace) {
													passwordError.textContent = 'Password cannot start with a space.';
												} else if (!letterCheck) {
													passwordError.textContent = 'Password must contain at least one letter.';
												} else if (!digitCheck) {
													passwordError.textContent = 'Password must contain at least one digit.';
												} else if (!specialCharCheck) {
													passwordError.textContent = 'Password must contain at least one special character .';
												} else if (!lengthCheck) {
													passwordError.textContent = 'Password must be at least 8 characters long.';
												} else {
													passwordError.textContent = '';
													passwordInput.classList.add('valid-input');
												}
											
												if (!lengthCheck || !letterCheck || !digitCheck || !specialCharCheck || !noLeadingSpace) {
													passwordInput.classList.remove('valid-input');
												}
											}
											

											// Add event listeners for real-time validation
											usernameInput.addEventListener('input', validateUsername);
											firstNameInput.addEventListener('input', validateFirstName);
											lastNameInput.addEventListener('input', validateLastName);
											phoneNumberInput.addEventListener('input', validatePhoneNumber);
											emailInput.addEventListener('input', validateEmail);
											passwordInput.addEventListener('input', validatePassword);

											// Prevent the form from submitting if there are validation errors
											/*form.addEventListener('submit', function (event) {
												if (!usernameInput.classList.contains('valid-input') || !firstNameInput.classList.contains('valid-input') || !lastNameInput.classList.contains('valid-input') || !emailInput.classList.contains('valid-input') || !passwordInput.classList.contains('valid-input')) {
													event.preventDefault();
													alert('Please fix the validation errors before submitting the form.');
												}
											});*/
											form.addEventListener('submit', function (event) {
												const isUsernameValid = usernameInput.classList.contains('valid-input');
												const isFirstNameValid = firstNameInput.classList.contains('valid-input');
												const isLastNameValid = lastNameInput.classList.contains('valid-input');
												const isPhoneNumberValid = phoneNumberInput.classList.contains('valid-input');
												const isEmailValid = emailInput.classList.contains('valid-input');
												const isPasswordValid = passwordInput.classList.contains('valid-input');
											
												if (!isUsernameValid || !isFirstNameValid || !isLastNameValid || !isPhoneNumberValid || !isEmailValid || !isPasswordValid ) {
													event.preventDefault();
													alert('Please fix the validation errors before submitting the form.');
												}
											});
											
										</script>
							

										<!-- /Register Form -->
										
									</div>
								</div>
							</div>
							<!-- /Register Content -->
								
						</div>
					</div>

				</div>

			</div>		
			<!-- /Page Content -->
   
			<!-- Footer -->
			<!-- Footer -->
			<footer class="footer">
				
				<!-- Footer Top -->
				<div class="footer-top">
					<div class="container-fluid">
						<div class="row">
							<div class="col-lg-3 col-md-6">
							
								<!-- Footer Widget -->
								<div class="footer-widget footer-about">
									<div class="footer-logo">
										<img src="{% static '/assets/img/logo.png'%}" alt="logo">
									</div>
									<div class="footer-about-content">
										<p>Make Heathcare Better Together</p>
										
									</div>
								</div>
								<!-- /Footer Widget -->
								
							</div>
							
							<div class="col-lg-3 col-md-6">
							
								
								
							</div>
							
							<div class="col-lg-3 col-md-6">
							
							</div>
							
							<div class="col-lg-3 col-md-6">
							
								<!-- Footer Widget -->
								<div class="footer-widget footer-contact">
									<h2 class="footer-title">Contact Us</h2>
									<div class="footer-contact-info">
										
										<p>
											<i class="fas fa-phone-alt"></i>
											7306741729
										</p>
										<p class="mb-0">
											<i class="fas fa-envelope"></i>
											medimingle@gmail.com.com
										</p>
									</div>
								</div>
								<!-- /Footer Widget -->
								
							</div>
							
						</div>
					</div>
				</div>
				<!-- /Footer Top -->
				
				<!-- Footer Bottom -->
                <div class="footer-bottom">
					<div class="container-fluid">
					
						<!-- Copyright -->
						<div class="copyright">
							<div class="row">
								<div class="col-md-6 col-lg-6">
									<div class="copyright-text">
										<p class="mb-0">MediMingle</a></p>
									</div>
								</div>
								<div class="col-md-6 col-lg-6">
								
									<!-- Copyright Menu -->
									
									<!-- /Copyright Menu -->
									
								</div>
							</div>
						</div>
						<!-- /Copyright -->
						
					</div>
				</div>
				<!-- /Footer Bottom -->
				
			</footer>
			<!-- /Footer -->
		   
	   </div>
	   <!-- /Main Wrapper -->
	  
		<!-- jQuery -->
		<script src="{% static '/assets/js/jquery.min.js'%}"></script>
		
		<!-- Bootstrap Core JS -->
		<script src="{% static '/assets/js/popper.min.js'%}"></script>
		<script src="{% static '/assets/js/bootstrap.min.js'%}"></script>
		
		<!-- Slick JS -->
		<script src="{% static '/assets/js/slick.js'%}"></script>
		
		<!-- Custom JS -->
		<script src="{% static '/assets/js/script.js'%}"></script>
		
	</body>

<!-- doccure/  30 Nov 2019 04:11:53 GMT -->
</html>
<!--{% static '/'%} -->